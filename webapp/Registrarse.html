<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clínica Smiles</title>
    <link rel="stylesheet" href="./CSS/RegistroUsuario.css">
    <script src=""></script>


<script type="text/javascript">

	
	function validarFormulario(){
			
            let nombre = document.getElementById ('nombre').value;
            let apellidos = document.getElementById ('apellidos').value;
            let telefono = document.getElementById ('telefono').value;
            let direccion = document.getElementById ('direccion').value;
            let email = document.getElementById ('email').value;
          
            
            let ok = true;

            if(nombre == ""){
            ok = false;
            document.getElementById ('nombre').style.background = "red";
            }

            if(apellidos == ""){
            ok = false;
            document.getElementById ('apellidos').style.background = "red";
            }

            if(telefono == ""){
            ok = false;            
            document.getElementById ('telefono').style.background = "red";
            }

            if(direccion == ""){
            ok = false;
            document.getElementById ('direccion').style.background = "red";
            }

            if(email == ""){
            ok = false;
            document.getElementById ('email').style.background = "red";
            }
			if (ok==true){
				document.getElementById("altas").submit();
			}
		
      }
      
      
      
      function llamada(id,op){
		fetch('GestionUsuarios?id='+id+"&op="+op)
		.then(response => response.json())
		.then(data => pintarFormulario(data))	
		
	}
	
	/*Funci�n para otener el valor de un parametro en el GET */
	function getParameterByName(name) {
		
		  name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
		    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
		    results = regex.exec(location.search);
		    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
		
	}
	
      

	function pintarFormulario(datos){
		document.getElementById("id").value = datos.id;
		document.getElementById("nombre").value = datos.nombre;
		document.getElementById("apellidos").value = datos.apellidos;
		document.getElementById("telefono").value = datos.telefono;
		document.getElementById("direccion").value = datos.direccion;
		document.getElementById("email").value = datos.email;
	}
	
	window.onload = function(){
		let id = getParameterByName("id");
		let op = getParameterByName("op");
		llamada(id,op);
	}
	
</script>

</head>

<body>
    <header class="navegador">
        <img src="./images/LOGO.jpg" id="logo" alt="" href="index.html">
        <nav class="navbar">
            <ul>
                <li><a href="./index.html">Inicio</a></li>
                <li><a href="./QuienesSomos.html">Nuestro Equipo</a></li>
                <li><a href="./Tratamientos.html">Tratamientos</a></li>
                <li><a href="#">Productos Higiene Oral</a></li>
                <li><a href="./Iniciar_sesion.html">Inicia sesión</a></li>
                <li><a href="#">Regístrate</a>
                        <ul class="menu-vertical">
                            <li><a href="./Registrarse.html">Usuarios</a></li>
                            <li><a href="./Empleados.html">Empleados</a></li>
                        </ul>
                </li>        
            </ul>
        </nav>
    </header>

    <form  name="Registrarse"  action="GestionUsuarios" method="post"  id="altas">

      <div class="input-group">
		
		
            <h1>REGISTRARSE</h1>
            
            
            <input type="hidden" id="id" name="id">
            <label>Nombre</label>
            <input type="text" name="nombre" id="nombre" placeholder="Nombre">
            <label>Apellidos</label>
            <input type="text" name="apellidos" id="apellidos" placeholder="Apellidos">
            <label>Teléfono</label>
            <input type="tel" name="telefono" id="telefono" placeholder="Teléfono">
            <label>Dirección</label>
            <input type="text" name="direccion" id="direccion" placeholder="Dirección">
            <label>Email</label>
            <input type="email" name="email" id="email" placeholder="Email">
            <input class="btn" type="submit" onclick="validarFormulario()" value="Enviar">
		
        </div>

    </form>

    <hr color="darkgoldenrod">
    <footer>
        <div class="footer">
            <div class="footer1">
                <h4>Clínica Smiles</h4>
                <p><a href="index.html"> Empleo </a></p>
                <p><a href="index.html"> Opiniones </a></p>
                <p> <a href="index.html"> Ayuda </a></p>
            </div>
            <div class="footer1">
                <h4>Empresa</h4>
                <p><a href="index.html"> Confianza y Seguridad </a></p>
                <p><a href="index.html"> Política </a></p>
                <p> <a href="index.html"> Datos de la empresa </a></p>
            </div>
            <div class="footer1">
                <p><a href="index.html">Condiciones</a></p>
                <p><a href="index.html">Privacidad</a></p>
                <p><a href="index.html">Mapa del sitio</a></p>
                <br><br><br><br><br>
            </div>
            <div class="redes">
                <a href="https://www.instagram.com/"><img src="./images/instagram.png" alt="redes_sociales"
                        class="redes_sociales"></a>
                <a href="https://www.facebook.com/?locale=es_ES"><img src="./images/facebook.png"
                        alt="redes_sociales" class="redes_sociales"></a>
                <a href="https://www.paypal.com/signin"><img src="./images/paypal.png" alt="redes_sociales"
                        class="redes_sociales"></a>
            </div>
        </div>
    </footer>
</body>
</html>